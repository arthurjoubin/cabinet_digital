{% extends 'base.html' %}
{% load static %}

{% block title %}Proposer un logiciel - Cabinet Digital{% endblock %}

{% block meta_description %}
<meta name="description" content="Proposez votre logiciel pour qu'il soit référencé sur Cabinet Digital. Nous aidons les éditeurs à faire connaître leurs solutions.">
<meta property="og:title" content="Proposer un logiciel - Cabinet Digital">
<meta property="og:description" content="Proposez votre logiciel pour qu'il soit référencé sur Cabinet Digital. Nous aidons les éditeurs à faire connaître leurs solutions.">
<meta property="og:type" content="website">
<meta property="og:image" content="{% static 'cabinet_logos/OG_image_cabinetdigital.png' %}">
<meta property="og:site_name" content="Cabinet Digital">
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="text-center mb-8">
    <div class="w-14 h-14 bg-green-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-sm">
      <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
    </div>
    <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-3">Proposer votre logiciel</h1>
    <p class="text-gray-600 leading-relaxed max-w-2xl mx-auto">
      Vous éditez un logiciel pour experts-comptables ou PME ? Faites-le connaître à notre communauté.
    </p>
  </div>

  <!-- Navigation entre les formulaires -->
  <div class="mb-8">
    <nav class="flex flex-wrap justify-center gap-2 p-1 bg-gray-100 rounded-lg" aria-label="Navigation formulaires">
      <a href="{% url 'contact' %}" 
         class="px-4 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors">
        Contact général
      </a>
      <a href="{% url 'contact_software' %}" 
         class="px-4 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm border border-gray-200">
        Proposer un logiciel
      </a>
      <a href="{% url 'contact_integrator' %}" 
         class="px-4 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors">
        Proposer un intégrateur
      </a>
      <a href="{% url 'contact_integration' %}" 
         class="px-4 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors">
        Proposer une intégration
      </a>
    </nav>
  </div>

  <!-- Messages -->
  {% if messages %}
    {% for message in messages %}
      <div class="mb-6 p-4 rounded-lg {% if message.tags == 'success' %}bg-green-50 text-green-800 border border-green-200{% elif message.tags == 'error' %}bg-red-50 text-red-800 border border-red-200{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <!-- Formulaire -->
  <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
    <div class="p-6">
      <form method="post" class="space-y-6"
            hx-post="{% url 'contact_software' %}"
            hx-target="#popup-container"
            hx-swap="innerHTML">
        {% csrf_token %}
        
        <!-- Section informations personnelles -->
        <div class="form-section">
          <div class="form-section-title">
            <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
            Vos informations
          </div>
          
          <div class="form-grid-2">
            <div class="form-group">
              <label for="nom" class="form-label">Nom *</label>
              <input type="text" id="nom" name="nom" required 
                     placeholder="Votre nom"
                     class="form-input-compact">
            </div>
            
            <div class="form-group">
              <label for="email" class="form-label">Email *</label>
              <input type="email" id="email" name="email" required 
                     placeholder="votre.email@exemple.com"
                     class="form-input-compact">
            </div>
          </div>
          
          <div class="form-group mt-4">
            <label for="entreprise" class="form-label">Entreprise *</label>
            <input type="text" id="entreprise" name="entreprise" required 
                   placeholder="Nom de votre entreprise"
                   class="form-input-compact">
          </div>
        </div>
        
        <!-- Section logiciel -->
        <div class="form-section">
          <div class="form-section-title">
            <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
            </svg>
            Informations sur votre logiciel
          </div>
          
          <div class="form-grid-2">
            <div class="form-group">
              <label for="logiciel_nom" class="form-label">Nom du logiciel *</label>
              <input type="text" id="logiciel_nom" name="logiciel_nom" required 
                     placeholder="ex: MonLogicielCompta"
                     class="form-input-compact">
            </div>
            
            <div class="form-group">
              <label for="use_case" class="form-label">Cas d'usage principal</label>
              <input type="text" id="use_case" name="use_case" 
                     placeholder="ex: Comptabilité, Paie, CRM..."
                     class="form-input-compact">
            </div>
          </div>
          
          <div class="form-group mt-4">
            <label for="description" class="form-label">Description détaillée *</label>
            <textarea id="description" name="description" required rows="6" 
                      placeholder="Décrivez votre logiciel : fonctionnalités principales, public cible, avantages concurrentiels, tarifs, etc."
                      class="form-textarea-compact"></textarea>
            <p class="text-xs text-gray-500 mt-1">
              Plus votre description sera précise, plus nous pourrons mettre en valeur votre logiciel
            </p>
          </div>
        </div>

        <!-- Bouton et confidentialité -->
        <div class="space-y-4">
          <button type="submit" 
                  class="form-button w-full bg-green-600 hover:bg-green-700 focus:ring-green-600">
            Proposer mon logiciel
          </button>
          
          <div class="text-center">
            <div class="form-privacy-notice">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
              </svg>
              Vos données sont protégées et ne seront pas partagées
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Information complémentaire -->
  <div class="mt-6 bg-green-50 rounded-xl p-4 border border-green-200">
    <div class="flex items-start gap-3">
      <div class="flex-shrink-0">
        <svg class="w-5 h-5 text-green-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
      </div>
      <div>
        <h3 class="text-sm font-semibold text-green-900 mb-1">Processus de validation</h3>
        <p class="text-green-800 text-sm leading-relaxed">
          Après réception de votre demande, notre équipe l'étudiera dans les 48h. 
          Nous vous recontacterons pour valider les informations et planifier l'intégration 
          de votre logiciel dans notre catalogue. Le référencement est gratuit.
        </p>
      </div>
    </div>
  </div>
</div>

<!-- Container pour la popup HTMX -->
<div id="popup-container"></div>

{% endblock %}